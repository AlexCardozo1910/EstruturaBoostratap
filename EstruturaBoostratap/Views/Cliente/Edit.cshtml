@model EstruturaBoostratap.ModelViews.ClienteModelView
@{
    ViewData["Title"] = "Editar Clientes";
}

@section Styles {
    <link href="~/lib/bootstrap/dist/css/bootstrap-datepicker3.css" rel="stylesheet" />
}
@section Scripts {
    <script src="~/js/moment.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.datepicker.js"></script>
    <script src="~/js/jquery.maskedinput-1.3.min.js"></script>
}

<h1 class="titulo-pagina">Editar Cliente</h1>
<div class="clear-titulo"></div>
<div class="top-pagina">
    @if (!String.IsNullOrEmpty(Model.MensagemErro))
    {
        <div class="alert alert-danger" role="alert">
            @Model.MensagemErro
        </div>
    }
    @if (!String.IsNullOrEmpty(Model.MensagemOK))
    {
        <div class="alert alert-success" role="alert">
            @Model.MensagemOK
        </div>
    }
    <form class="needs-validation" novalidate asp-action="Edit">
        @Html.HiddenFor(x => x.ClienteID)
        <div class="row">
            <div class="col">
                <div class="col-md-4 mb-3">
                    <label for="NomeCliente">Nome do Cliente/Razão Social</label>
                    <input type="text" name="NomeCliente" id="NomeCliente" class="form-control" value="@Model.NomeCliente" data-toggle="tooltip" data-placement="top" title="Nome completo ou Razão Social do Cliente." required>
                    <div class="invalid-feedback">Campo obrigatório!</div>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="EmailCliente">E-mail Cliente</label>
                    <input type="email" name="EmailCliente" id="EmailCliente" class="form-control" value="@Model.EmailCliente" data-toggle="tooltip" data-placement="top" title="E-mail do Cliente." required>
                    <div class="invalid-feedback">Campo obrigatório!</div>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="Telefone">Telefone</label>
                    <input type="text" name="Telefone" id="Telefone" class="form-control maskPhone" value="@Model.TelefoneCliente" data-toggle="tooltip" data-placement="top" title="Telefone do Cliente" required>
                    <div class="invalid-feedback">Campo obrigatório!</div>
                </div>
                <div class="col-md-2 mb-3">
                    <label for="DataCadastro">Data Cadastro</label>
                    <input type="text" name="DataCadastro" id="DataCadastro" class="form-control" value="@Model.DataCadastro" required readonly>
                </div>
            </div>
        </div>
        <h3 class="titulo-descricao">Informações Pessoais</h3>
        <div class="row">
            <div class="col">
                <div class="col-md-2 mb-2">
                    <div>Tipo Pessoa</div>
                    <div class="form-check form-check-inline form-check-alinhamento-radio">
                        <input class="form-check-input" type="radio" name="TipoPessoa" id="PessoaFisica" value="F" onclick="setCamposCadastro()" data-toggle="tooltip" data-placement="top" title="Selecione o tipo de Pessoa." @(Model.TipoPessoa == "F" ? "checked" : "") required>
                        <label class="form-check-label" for="PessoaFisica">Física</label>
                    </div>
                    <div class="form-check form-check-inline form-check-alinhamento-radio">
                        <input class="form-check-input" type="radio" name="TipoPessoa" id="PessoaJuridica" value="J" onclick="setCamposCadastro()" data-toggle="tooltip" data-placement="top" title="Selecione o tipo de Pessoa." @(Model.TipoPessoa == "J" ? "checked" : "") required>
                        <label class="form-check-label" for="PessoaJuridica">Jurídica</label>
                    </div>
                    <div class="invalid-feedback">Campo obrigatório!</div>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="CpfCnpj">CPF/CNPJ</label>
                    <input type="text" name="CpfCnpj" id="CpfCnpj" class="form-control maskCPF" value="@Model.CpfCnpj" data-toggle="tooltip" data-placement="top" title="Insira o CPF ou o CNPJ do Cliente." required>
                    <div class="invalid-feedback">Campo obrigatório!</div>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="RgIe">Inscrição Estadual</label>
                    <input type="text" name="RgIe" id="RgIe" class="form-control maskInscricao" value="@Model.RgIe" data-toggle="tooltip" data-placement="top" title="Inscrição Estadual do Cliente, selecionar Isento caso assim for." required @(Model.Isento == true ? "readonly" : "")>
                    <div class="invalid-feedback">Campo obrigatório!</div>
                </div>
                <div class="col-md-3 mb-3">
                    <div class="form-check form-check-alinhamento">
                        <input type="checkbox" name="Isento" id="Isento" class="form-check-input" value="true" onclick="setIsencao()" @(Model.Isento == true ? "checked" : "")>
                        <label class="form-check-label" for="Isento">Isento</label>
                    </div>
                </div>
            </div>
        </div>
        <div id="CamposGenero" class="@(Model.TipoPessoa == "F" ? "" : "hidden")">
            <div class="row">
                <div class="col">
                    <div class="col-md-3 mb-3">
                        <label for="Genero">Gênero</label>
                        @Html.DropDownListFor(x => x.Genero, new SelectList(Model.ListaGenero, "Value", "Text", Model.ListaGenero), new { @id = "Genero", @class = "custom-select", @title = "Selecione o gênero do Cliente" })
                        <div class="invalid-feedback">Campo obrigatório!</div>
                    </div>
                    <div class="col-md-3 mb-3">
                        <label for="DataNascimento">Data Nascimento</label>
                        <div class="input-group date dataPicker">
                            <input type="text" name="DataNascimento" id="DataNascimento" class="form-control" value="@Model.DataNascimento" data-toggle="tooltip" data-placement="top" title="Data de nascimento do Cliente.">
                        </div>
                        <div class="invalid-feedback">Campo obrigatório!</div>
                    </div>
                </div>
            </div>
        </div>
        <h3 class="titulo-descricao">Situação do Cliente</h3>
        <div class="row">
            <div class="col">
                <div class="col-md-3 mb-3">
                    <div class="form-check">
                        <input name="Status" id="Status" type="checkbox" class="form-check-input" value="true" data-toggle="tooltip" data-placement="top" title="Bloqueio o acesso do Cliente na sua Loja." @(Model.Status == true ? "checked" : "")>
                        <label class="form-check-label" for="Status">
                            Bloqueado
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <h3 class="titulo-descricao">Senha de Acesso</h3>
        <div class="row">
            <div class="col">
                <div class="col-md-3 mb-3">
                    <label for="Senha">Senha</label>
                    <input type="password" name="Senha" id="Senha" class="form-control" value="@Model.Senha" data-toggle="tooltip" data-placement="top" title="Cadastre a senha de acesso do seu Cliente." maxlength="15">
                    <small id="passwordHelpBlock" class="form-text text-muted">
                        Sua senha deve ter entre 8 e 15 caracteres.
                    </small>
                    <div class="invalid-feedback">Campo obrigatório!</div>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="ConfirmarSenha">Confirme a Senha</label>
                    <input type="password" name="ConfirmarSenha" id="ConfirmarSenha" class="form-control" value="@Model.ConfirmarSenha" data-toggle="tooltip" data-placement="top" title="Confirme a senha de acesso do seu Cliente." maxlength="15">
                    <div class="invalid-feedback">Campo obrigatório!</div>
                </div>
            </div>
        </div>
        <button class="btn btn-primary" type="submit">Alterar Cliente</button>
        <a asp-action="Index" class="btn btn-secondary active" role="button" aria-pressed="true">Voltar</a>
    </form>
</div>